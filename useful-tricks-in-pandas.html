<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Useful Tricks in Pandas</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">kmohajery_blog </a></h1>
                <nav><ul>
                    <li><a href="/category/project.html">Project</a></li>
                    <li class="active"><a href="/category/review.html">Review</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/useful-tricks-in-pandas.html" rel="bookmark"
           title="Permalink to Useful Tricks in Pandas">Useful Tricks in Pandas</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2017-01-12T10:20:00+01:00">
                Published: Thu 12 January 2017
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/khatereh-mohajery.html">Khatereh Mohajery</a>
        </address>
<p>In <a href="/category/review.html">Review</a>.</p>

</footer><!-- /.post-info -->      <p>In this blog post I want to introduce some useful and handy pandas tricks that have made my life much easier in several occasions (I will add to this as I encounter a new useful method or trick). </p>
<ul>
<li>Getting all the unique values in a column of a dataframe by using:
df.columnname.unique()</li>
<li>
<p>Getting the number of null values for the data frame or the number or proportion of null values for each column:
df.isnull().sum()
And for each column:
df.columnname.isnull().sum()
df.columnname.isnull().mean()</p>
</li>
<li>
<p>Mapping trick:
First you create a mapping dictionary:
equiv = {“a”:1, “b”:2, “c”:3} 
Then you map for example a column to it
df = pd.DataFrame( {"A": [“a”, “b”, “c”]} ) 
df["B"] = df["A"].map(equiv) 
print(df) 
  A B 
0 a 1
1 b 2 
2 c 3</p>
</li>
<li>
<p>Getting dummy variables for categorical variables and adding it to the same data frame in one step:
data = {'name': ['Jason', 'Amy', 'Tina', 'Jason', 'Amy'], 
'sex': ['male', 'female', 'female', 'male', 'female'],
'age':[17,18,25,21,19]}
df = pd.DataFrame(data, columns = ['name', 'sex'])</p>
</li>
</ul>
<p>df = pd.concat([df, pd.get_dummies(df[['name',’sex]])], axis=1)</p>
<ul>
<li>Sometimes, you need to make categorical variables into integer categories. This can be done by using  Labelencoder from sklearn preprocessing library:</li>
</ul>
<p>from sklearn.preprocessing import LabelEncoder</p>
<p>Applying on above data frame the column “sex” can be converted 0 for male and 1 for female:</p>
<p>LabelEncoder().fit_transform(df.sex)</p>
<ul>
<li>For applying a condition on all values of a row, np.where can be used. For example:
df.sex = np.where (df.sex.str.contains('fe') == True ,'Female', df.sex)</li>
</ul>
<p>Each row that contains string 'fe', it puts in 'Female'. Otherwise, it leaves it as is.</p>
<ul>
<li>If you need a new data frame after applying  groupby method, putting option as_index =False  results in returning a data frame:</li>
</ul>
<p>df = df.groupby('sex', as_index =False).age.mean()</p>
<p>sex    age
0 female 20.666667
1 male   19.000000</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
                            <li><a href="#">You can modify those links in your config file</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="#">You can add links in your config file</a></li>
                            <li><a href="#">Another social link</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>